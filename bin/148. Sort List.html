<html>
<head>
  <title>148. Sort List</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="382"/>
<h1>148. Sort List</h1>

<div>
<span><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">Sort a linked list in </span><i style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">O</i><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">(</span><i style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">n</i><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;"> log </span><i style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">n</i><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">) time using constant space complexity.</span></div><div><span style="font-size: 14px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></span></div><div>解法：时间复杂度要求为O（nlogn）， 并且固定空间。可以想到合并排序。使用合并排序的思想，在list链表中，一样可以使用。</div><div>代码：</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>/**</div><div> * Definition for singly-linked list.</div><div> * public class ListNode {</div><div> *     int val;</div><div> *     ListNode next;</div><div> *     ListNode(int x) { val = x; }</div><div> * }</div><div> */</div><div>class Solution {</div><div>    public ListNode sortList(ListNode head) {</div><div>        if(head == null || head.next == null)</div><div>            return head;</div><div><br/></div><div>        ListNode slow = head;</div><div>        ListNode fast = head;</div><div><br/></div><div>        while(fast.next != null &amp;&amp; fast.next.next != null){</div><div>            slow = slow.next;</div><div>            fast = fast.next.next;</div><div>        }</div><div>        fast = slow.next;</div><div>        slow.next = null;</div><div><br/></div><div>        //将链表拆分两半</div><div><br/></div><div>        ListNode pre = sortList(head);</div><div>        ListNode tail = sortList(fast);</div><div><br/></div><div><br/></div><div>        //将出拆分的两半链表排序</div><div>        return pre = helper(pre,tail);</div><div>    }</div><div><br/></div><div>    public ListNode helper(ListNode pre, ListNode tail){</div><div>        if(tail == null )return pre;</div><div>        if(pre == null) return tail;</div><div><br/></div><div>        ListNode head;</div><div>        ListNode temp;</div><div><br/></div><div>        if(pre.val &gt; tail.val){</div><div>            temp = tail;</div><div>            tail = tail.next;</div><div>            temp.next = pre;         </div><div>            pre = temp;</div><div>        }</div><div>        head = pre;</div><div>        ListNode point = head;</div><div>        pre = pre.next;</div><div><br/></div><div>        while(pre != null || tail != null){</div><div>            if(pre == null){</div><div>                point.next = tail;</div><div>                break;</div><div>            }</div><div>            if(tail == null){</div><div>                break;</div><div>            }</div><div>            if(pre.val &lt;= tail.val){</div><div>                if(point.next != null)</div><div>                    point = point.next;</div><div>                pre = pre.next;</div><div>                continue;</div><div>            }else{</div><div>                temp = tail;</div><div>                tail = tail.next;</div><div>                temp.next = point.next;</div><div>                point.next = temp;</div><div>                point = point.next;</div><div>            }</div><div>        }</div><div>        return head;</div><div>    }</div><div>}</div></div><div><br/></div></span>
</div></body></html> 